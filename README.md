# ğŸ® Village Secrets - Food Tracking RPG Game

ä¸€æ¬¾ç»“åˆäº†é£Ÿç‰©æ—¥å¿—è®°å½•å’Œè§£è°œå…ƒç´ çš„äº’åŠ¨å¼RPGæ¸¸æˆã€‚ç©å®¶é€šè¿‡ä¸7ä¸ªNPCå¯¹è¯ï¼Œè®°å½•æ¯æ—¥ä¸‰é¤ï¼Œæ”¶é›†çº¿ç´¢ï¼Œæœ€ç»ˆè§£å¼€æ‘åº„çš„ç§˜å¯†ã€‚

## ğŸ“‹ ç›®å½•

- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [å‰ç½®è¦æ±‚](#å‰ç½®è¦æ±‚)
- [å®‰è£…ä¸é…ç½®](#å®‰è£…ä¸é…ç½®)
- [æœ¬åœ°å¼€å‘](#æœ¬åœ°å¼€å‘)
- [æ•°æ®åº“é…ç½®](#æ•°æ®åº“é…ç½®)
- [éƒ¨ç½²æ–¹å¼](#éƒ¨ç½²æ–¹å¼)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [APIæ–‡æ¡£](#apiæ–‡æ¡£)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **React 18** - UIæ¡†æ¶
- **Phaser 3** - æ¸¸æˆå¼•æ“
- **React Router DOM** - è·¯ç”±ç®¡ç†
- **Context API** - çŠ¶æ€ç®¡ç†

### åç«¯
- **Node.js + Express** - æœåŠ¡å™¨æ¡†æ¶
- **Sequelize ORM** - æ•°æ®åº“æ“ä½œ
- **PostgreSQL** - æ•°æ®åº“

### ç¬¬ä¸‰æ–¹API
- **ConvAI API** - NPCå¼€åœºç™½å¯¹è¯
- **Groq API** - é£Ÿç‰©æ—¥å¿—é—®ç­”
- **Google Gemini AI** - æœ€ç»ˆæŠ¥å‘Šç”Ÿæˆ

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ­ æ¸¸æˆæœºåˆ¶
- **7å¤©è§£è°œç³»ç»Ÿ**: æ¯å¤©è§£é”ä¸€ä¸ªæ–°NPC
- **é£Ÿç‰©æ—¥å¿—è®°å½•**: æ—©ä¸­æ™šä¸‰é¤ï¼Œæ¯é¤6ä¸ªé—®é¢˜
- **çº¿ç´¢æ”¶é›†**: åªæœ‰æ™šé¤è®°å½•ä¼šç»™äºˆçº¿ç´¢
- **Vagueå›å¤**: éæ™šé¤è®°å½•ç»™äºˆæ¨¡ç³Šæç¤º
- **æ€§åˆ«é€‰æ‹©**: ç©å®¶å¯é€‰æ‹©ç”·å­©/å¥³å­©è§’è‰²
- **çº¿ç´¢æ—¥å¿—**: æŸ¥çœ‹å·²æ”¶é›†çš„æ‰€æœ‰çº¿ç´¢

### ğŸ¨ UI/UX
- **ç§»åŠ¨ä¼˜å…ˆè®¾è®¡**: æ”¯æŒæ‰‹æœºå’ŒPC
- **å…¨å±åœ°å›¾**: æ¨ªå‘åœ°å›¾ï¼Œç‚¹å‡»ç§»åŠ¨
- **åŠ¨æ€UI**: è‡ªé€‚åº”å­—ä½“å’ŒæŒ‰é’®å¤§å°
- **å¤šè¯­è¨€æ”¯æŒ**: ä¸­æ–‡/è‹±æ–‡åˆ‡æ¢
- **éŸ³ä¹æ§åˆ¶**: èƒŒæ™¯éŸ³ä¹å¼€å…³

### ğŸ’¬ å¯¹è¯ç³»ç»Ÿ
- **ConvAIå¼€åœº**: æ¯ä¸ªNPCç‹¬ç‰¹çš„å¼€åœºç™½
- **é¢„å®šä¹‰é€‰é¡¹**: 6ä¸ªé—®é¢˜ï¼Œæ¯ä¸ªæœ‰4-6ä¸ªé€‰é¡¹
- **è‡ªç”±è¾“å…¥**: "å…¶ä»–"é€‰é¡¹å…è®¸è‡ªå®šä¹‰è¾“å…¥
- **å¯¹è¯å†å²**: æ‰€æœ‰å¯¹è¯è®°å½•åˆ°æ•°æ®åº“

---

## ğŸ“¦ å‰ç½®è¦æ±‚

### å¿…éœ€ç¯å¢ƒ
- **Node.js**: v16+ (æ¨è v18+)
- **npm**: v8+
- **PostgreSQL**: v13+ (æˆ–ä½¿ç”¨Heroku PostgreSQL)
- **Heroku CLI**: ç”¨äºæ•°æ®åº“ç®¡ç†ï¼ˆå¦‚ä½¿ç”¨Herokuï¼‰

### APIå¯†é’¥ï¼ˆéœ€è‡ªè¡Œç”³è¯·ï¼‰
- `CONVAI_API_KEY` - ConvAI API
- `GROQ_API_KEY` - Groq API  
- `GEMINI_API_KEY` - Google Gemini API

---

## ğŸš€ å®‰è£…ä¸é…ç½®

### 1. å…‹éš†é¡¹ç›®
```bash
cd /Users/carol/Documents/2025summer/rpg_new/Food-Tracking
```

### 2. å®‰è£…å‰ç«¯ä¾èµ–
```bash
npm install
```

### 3. å®‰è£…åç«¯ä¾èµ–
```bash
cd server
npm install
cd ..
```

### 4. é…ç½®ç¯å¢ƒå˜é‡

åœ¨ `server/.env` æ–‡ä»¶ä¸­é…ç½®ï¼ˆå·²å­˜åœ¨ï¼Œéœ€æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ï¼‰ï¼š

```env
# æ•°æ®åº“é…ç½®
DATABASE_URL=your_postgresql_connection_string

# APIå¯†é’¥
CONVAI_API_KEY=your_convai_api_key
GROQ_API_KEY=your_groq_api_key
GEMINI_API_KEY=your_gemini_api_key

# æœåŠ¡å™¨ç«¯å£
PORT=3001
```

åœ¨ `Food-Tracking/.env` æ–‡ä»¶ä¸­é…ç½®ï¼ˆå‰ç«¯ï¼‰ï¼š

```env
REACT_APP_API_URL=http://localhost:3001/api
```

---

## ğŸ’» æœ¬åœ°å¼€å‘

### æ–¹æ³•1ï¼šä½¿ç”¨å¿«æ·å‘½ä»¤ï¼ˆæ¨èï¼‰

å¦‚æœå·²é…ç½®zshå¿«æ·å‘½ä»¤ï¼š

```bash
# ç»ˆç«¯1 - å¯åŠ¨åç«¯
rpgserver

# ç»ˆç«¯2 - å¯åŠ¨å‰ç«¯
rpgfront
```

### æ–¹æ³•2ï¼šä¼ ç»Ÿæ–¹å¼

#### å¯åŠ¨åç«¯æœåŠ¡å™¨
```bash
cd /Users/carol/Documents/2025summer/rpg_new/Food-Tracking/server
npm start
```

åç«¯å°†è¿è¡Œåœ¨ `http://localhost:3001`

#### å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
```bash
cd /Users/carol/Documents/2025summer/rpg_new/Food-Tracking
npm start
```

å‰ç«¯å°†è¿è¡Œåœ¨ `http://localhost:3000`ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€ã€‚

### å¼€å‘è°ƒè¯•

- **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜**: `Cmd + Shift + R` (Mac) æˆ– `Ctrl + Shift + R` (Windows)
- **æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—**: æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…· â†’ Console
- **æ‰‹æœºæ¨¡å¼æµ‹è¯•**: å¼€å‘è€…å·¥å…· â†’ Toggle device toolbar â†’ é€‰æ‹©è®¾å¤‡

---

## ğŸ—„ï¸ æ•°æ®åº“é…ç½®

### ä½¿ç”¨Heroku PostgreSQLï¼ˆå½“å‰é…ç½®ï¼‰

#### æŸ¥çœ‹æ•°æ®åº“è¿æ¥
```bash
heroku config:get DATABASE_URL -a foodtracking-t1
```

#### è¿æ¥æ•°æ®åº“
```bash
heroku pg:psql -a foodtracking-t1
```

#### æŸ¥çœ‹è¡¨ç»“æ„
```sql
\dt
```

#### æŸ¥çœ‹è¡¨æ•°æ®
```sql
SELECT * FROM "Players";
SELECT * FROM "MealRecords";
SELECT * FROM "Clues";
```

#### æ¸…ç©ºæ‰€æœ‰æ•°æ®è¡¨
```sql
TRUNCATE TABLE 
  "Clues",
  "ConversationHistories",
  "GameSessions",
  "MealRecords",
  "PlayerProgresses",
  "Players",
  "allowed_ids"
RESTART IDENTITY CASCADE;
```

#### åˆ›å»ºæµ‹è¯•ç©å®¶ID
```sql
INSERT INTO "allowed_ids" ("playerId", "createdAt", "updatedAt") 
VALUES 
  ('001', NOW(), NOW()),
  ('002', NOW(), NOW()),
  ('003', NOW(), NOW());
```

### ä½¿ç”¨æœ¬åœ°PostgreSQL

#### 1. å®‰è£…PostgreSQL
```bash
brew install postgresql@14
brew services start postgresql@14
```

#### 2. åˆ›å»ºæ•°æ®åº“
```bash
createdb food_tracking_db
```

#### 3. ä¿®æ”¹ `.env`
```env
DATABASE_URL=postgresql://localhost:5432/food_tracking_db
```

#### 4. è¿è¡Œè¿ç§»ï¼ˆå¦‚æœæœ‰ï¼‰
```bash
cd server
npx sequelize-cli db:migrate
```

---

## ğŸŒ éƒ¨ç½²æ–¹å¼

### å‰ç«¯éƒ¨ç½²ï¼ˆæ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼‰

#### 1. æ„å»ºå‰ç«¯
```bash
cd /Users/carol/Documents/2025summer/rpg_new/Food-Tracking
npm run build
```

è¿™å°†åœ¨ `build/` ç›®å½•ç”Ÿæˆä¼˜åŒ–åçš„é™æ€æ–‡ä»¶ã€‚

#### 2. æµ‹è¯•ç”Ÿäº§ç‰ˆæœ¬ï¼ˆæœ¬åœ°ï¼‰
```bash
# å®‰è£…serveï¼ˆå¦‚æœªå®‰è£…ï¼‰
npm install -g serve

# è¿è¡Œç”Ÿäº§ç‰ˆæœ¬
serve -s build -p 3000
```

#### 3. éƒ¨ç½²åˆ°é™æ€æ‰˜ç®¡æœåŠ¡

**é€‰é¡¹A: Vercel**
```bash
npm install -g vercel
vercel --prod
```

**é€‰é¡¹B: Netlify**
```bash
npm install -g netlify-cli
netlify deploy --prod --dir=build
```

**é€‰é¡¹C: GitHub Pages**
1. ä¿®æ”¹ `package.json`ï¼š
```json
{
  "homepage": "https://yourusername.github.io/food-tracking"
}
```

2. éƒ¨ç½²ï¼š
```bash
npm install --save-dev gh-pages
npm run build
npx gh-pages -d build
```

### åç«¯éƒ¨ç½²

#### ä½¿ç”¨Heroku

1. **ç™»å½•Heroku**
```bash
heroku login
```

2. **åˆ›å»ºåº”ç”¨**
```bash
cd server
heroku create foodtracking-backend
```

3. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
heroku config:set CONVAI_API_KEY=your_key
heroku config:set GROQ_API_KEY=your_key
heroku config:set GEMINI_API_KEY=your_key
```

4. **éƒ¨ç½²**
```bash
git push heroku main
```

5. **æŸ¥çœ‹æ—¥å¿—**
```bash
heroku logs --tail -a foodtracking-backend
```

#### ä½¿ç”¨Railway/Render

1. è¿æ¥GitHubä»“åº“
2. è®¾ç½®ç¯å¢ƒå˜é‡
3. é…ç½®å¯åŠ¨å‘½ä»¤: `npm start`
4. éƒ¨ç½²

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
Food-Tracking/
â”œâ”€â”€ public/                      # é™æ€èµ„æº
â”‚   â”œâ”€â”€ assets/
â”‚   â”‚   â”œâ”€â”€ map.JPG             # ä¸»åœ°å›¾
â”‚   â”‚   â”œâ”€â”€ npc/                # NPCå›¾ç‰‡
â”‚   â”‚   â”‚   â”œâ”€â”€ boynew.png      # ç”·å­©è§’è‰²
â”‚   â”‚   â”‚   â”œâ”€â”€ girlnew.png     # å¥³å­©è§’è‰²
â”‚   â”‚   â”‚   â”œâ”€â”€ npc1.png - npc7.png  # NPCè§’è‰²
â”‚   â”‚   â”‚   â””â”€â”€ npc1bg.png - npc7bg.png  # å¯¹è¯èƒŒæ™¯
â”‚   â”‚   â””â”€â”€ elements/
â”‚   â”‚       â””â”€â”€ cluebook.png    # çº¿ç´¢æœ¬å›¾æ ‡
â”‚   â””â”€â”€ index.html
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/             # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ GameScreen.jsx      # ä¸»æ¸¸æˆå±å¹•
â”‚   â”‚   â”œâ”€â”€ LoginPage.jsx       # ç™»å½•é¡µ
â”‚   â”‚   â”œâ”€â”€ CutScenePlayer.js   # å¼€åœºåŠ¨ç”»
â”‚   â”‚   â””â”€â”€ Control.jsx         # éŸ³é‡/è¯­è¨€æ§åˆ¶
â”‚   â”‚
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ LoadingPage.jsx     # åŠ è½½é¡µ
â”‚   â”‚   â””â”€â”€ GenderSelectionPage.jsx  # æ€§åˆ«é€‰æ‹©
â”‚   â”‚
â”‚   â”œâ”€â”€ phaser/                 # Phaseræ¸¸æˆé€»è¾‘
â”‚   â”‚   â”œâ”€â”€ MainScene.js        # ä¸»åœºæ™¯ï¼ˆåœ°å›¾ï¼‰
â”‚   â”‚   â”œâ”€â”€ NPCManager.js       # NPCç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ UIManager.js        # UIç®¡ç†å™¨ï¼ˆçº¿ç´¢æœ¬ã€è¿›åº¦æ¡ï¼‰
â”‚   â”‚   â””â”€â”€ dialog/             # å¯¹è¯ç³»ç»Ÿæ¨¡å—
â”‚   â”‚       â”œâ”€â”€ DialogSceneRefactored.js  # å¯¹è¯ä¸»åœºæ™¯
â”‚   â”‚       â”œâ”€â”€ DialogStateManager.js     # çŠ¶æ€ç®¡ç†
â”‚   â”‚       â”œâ”€â”€ DialogUIManager.js        # UIç®¡ç†
â”‚   â”‚       â”œâ”€â”€ ConvAIHandler.js          # ConvAIå¤„ç†
â”‚   â”‚       â”œâ”€â”€ MealRecordingHandler.js   # é¤é£Ÿè®°å½•
â”‚   â”‚       â””â”€â”€ ClueManager.js            # çº¿ç´¢ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ context/
â”‚   â”‚   â””â”€â”€ PlayerContext.js    # ç©å®¶çŠ¶æ€ä¸Šä¸‹æ–‡
â”‚   â”‚
â”‚   â””â”€â”€ App.js                  # ä¸»åº”ç”¨å…¥å£
â”‚
â”œâ”€â”€ server/                     # åç«¯æœåŠ¡å™¨
â”‚   â”œâ”€â”€ app.js                  # Expressåº”ç”¨
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ gameRoutes.js       # æ¸¸æˆAPIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ convaiRoutes.js     # ConvAIè·¯ç”±
â”‚   â”‚   â””â”€â”€ geminiRoutes.js     # Geminiè·¯ç”±
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                 # Sequelizeæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ Player.js
â”‚   â”‚   â”œâ”€â”€ MealRecord.js
â”‚   â”‚   â”œâ”€â”€ Clue.js
â”‚   â”‚   â”œâ”€â”€ ConversationHistory.js
â”‚   â”‚   â””â”€â”€ PlayerProgress.js
â”‚   â”‚
â”‚   â””â”€â”€ .env                    # ç¯å¢ƒå˜é‡
â”‚
â”œâ”€â”€ package.json                # å‰ç«¯ä¾èµ–
â”œâ”€â”€ server/package.json         # åç«¯ä¾èµ–
â”œâ”€â”€ README.md                   # æœ¬æ–‡ä»¶
â”œâ”€â”€ RECENT_FIXES.md             # æœ€è¿‘ä¿®å¤è®°å½•
â””â”€â”€ REFACTORING_SUMMARY.md      # é‡æ„æ€»ç»“
```

---

## ğŸ“¡ APIæ–‡æ¡£

### æ¸¸æˆç›¸å…³API (`/api`)

#### POST `/login`
- **åŠŸèƒ½**: ç©å®¶ç™»å½•
- **è¯·æ±‚**: `{ playerId: "001", language: "zh" }`
- **å“åº”**: `{ success: true, player: {...}, availableNPCs: [...] }`

#### GET `/player-status/:playerId`
- **åŠŸèƒ½**: è·å–ç©å®¶çŠ¶æ€
- **å“åº”**: å½“å‰å¤©æ•°ã€å¯ç”¨NPCã€é¤é£Ÿè®°å½•ç­‰

#### POST `/record-meal`
- **åŠŸèƒ½**: è®°å½•é¤é£Ÿ
- **è¯·æ±‚**: `{ playerId, npcId, mealType, mealContent, answers, day }`
- **å“åº”**: `{ success: true, shouldGiveClue: true/false, clueText }`

#### POST `/save-clue`
- **åŠŸèƒ½**: ä¿å­˜çº¿ç´¢
- **è¯·æ±‚**: `{ playerId, npcId, clueText, day }`

#### GET `/clues/:playerId`
- **åŠŸèƒ½**: è·å–æ‰€æœ‰çº¿ç´¢
- **å“åº”**: `{ success: true, clues: [...] }`

#### POST `/save-conversation`
- **åŠŸèƒ½**: ä¿å­˜å¯¹è¯å†å²
- **è¯·æ±‚**: `{ playerId, npcId, conversationData }`

### ConvAI API (`/api/convai`)

#### POST `/chat`
- **åŠŸèƒ½**: ä¸NPCå¯¹è¯ï¼ˆå¼€åœºç™½ï¼‰
- **è¯·æ±‚**: `{ npcId, message, sessionId }`
- **å“åº”**: `{ text: "...", sessionId: "..." }`

---

## ğŸ® æ¸¸æˆé€»è¾‘è¯´æ˜

### NPCè§£é”è§„åˆ™
- **Day 1**: æ‘é•¿ï¼ˆNPC1ï¼‰è‡ªåŠ¨è§£é”
- **Day 2-7**: å‰ä¸€å¤©è‡³å°‘è®°å½•1é¤åè§£é”ä¸‹ä¸€ä¸ªNPC
- **æ£€æŸ¥æ—¶æœº**: æ¯æ¬¡ç™»å½•æ—¶æ ¹æ®`firstLoginDate`å’Œé¤é£Ÿè®°å½•è®¡ç®—

### é¤é£Ÿè®°å½•æµç¨‹
1. **ConvAIå¼€åœº**: NPCè¯´å¼€åœºç™½
2. **é€‰æ‹©é¤é£Ÿ**: æ—©é¤/åˆé¤/æ™šé¤
3. **å›ç­”6ä¸ªé—®é¢˜**: æ¯ä¸ªé—®é¢˜4-6ä¸ªé€‰é¡¹ + "å…¶ä»–"
4. **æäº¤è®°å½•**: å‘é€åˆ°åç«¯ä¿å­˜
5. **è·å¾—åé¦ˆ**:
   - **æ™šé¤**: ç»™äºˆçº¿ç´¢ï¼ˆå­˜å…¥çº¿ç´¢æœ¬ï¼‰
   - **æ—©ä¸­é¤**: ç»™äºˆvagueå›å¤

### çº¿ç´¢æœºåˆ¶
- **åªæœ‰æ™šé¤ç»™çº¿ç´¢**: åç«¯`shouldGiveClue`é€»è¾‘
- **å­˜å‚¨ä½ç½®**: `Clues`è¡¨ï¼Œå…³è”`playerId + npcId + day`
- **æ˜¾ç¤º**: ç‚¹å‡»åœ°å›¾å·¦ä¸‹è§’ğŸ“–å›¾æ ‡æŸ¥çœ‹

### Vagueå›å¤
- **ç¬¬1æ¬¡**: é•¿å›å¤ï¼ˆå…³äºåå¸ˆå‚…å’Œé£Ÿæï¼‰
- **ç¬¬2æ¬¡åŠä»¥å**: çŸ­å›å¤ï¼ˆå…³äºé’æœ¨ç±½ï¼‰

---

## â“ å¸¸è§é—®é¢˜

### Q: å‰ç«¯æ— æ³•è¿æ¥åç«¯ï¼Ÿ
**A**: æ£€æŸ¥ï¼š
1. åç«¯æ˜¯å¦è¿è¡Œåœ¨ `http://localhost:3001`
2. `.env` ä¸­ `REACT_APP_API_URL` æ˜¯å¦æ­£ç¡®
3. CORSé…ç½®æ˜¯å¦å…è®¸ `http://localhost:3000`

### Q: çº¿ç´¢æœ¬ä¸æ˜¾ç¤ºï¼Ÿ
**A**: 
1. ç¡®ä¿å·²è°ƒç”¨ `uiManager.init()` åœ¨ `MainScene.create()`
2. æ£€æŸ¥ `cluebook.png` æ˜¯å¦å­˜åœ¨äº `public/assets/elements/`
3. æŒ‰ `F12` æŸ¥çœ‹æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

### Q: å¯¹è¯ç•Œé¢å­—ä½“å¤ªå°ï¼Ÿ
**A**: å·²åœ¨æœ€æ–°ç‰ˆæœ¬ä¿®å¤ï¼Œå­—ä½“å¤§å°ï¼š
- æ‰‹æœºï¼š24-28px
- PCï¼š26-32px

### Q: NPCå¯¹è¯åè¿”å›æ€§åˆ«é€‰æ‹©é¡µï¼Ÿ
**A**: å·²ä¿®å¤ï¼Œç¡®ä¿ä½¿ç”¨æœ€æ–°ä»£ç å¹¶æ¸…é™¤ç¼“å­˜ã€‚

### Q: æ•°æ®åº“è¿æ¥å¤±è´¥ï¼Ÿ
**A**: 
1. Herokuæ•°æ®åº“ï¼š`heroku pg:psql -a foodtracking-t1`
2. æœ¬åœ°æ•°æ®åº“ï¼šæ£€æŸ¥PostgreSQLæ˜¯å¦è¿è¡Œ
3. æ£€æŸ¥ `DATABASE_URL` æ ¼å¼

### Q: "å…¶ä»–"é€‰é¡¹è¾“å…¥æ¡†ä¸æ˜¾ç¤ºï¼Ÿ
**A**: å·²ä¿®å¤ï¼Œç¡®ä¿ä½¿ç”¨æœ€æ–°çš„ `DialogUIManager.js`ã€‚

### Q: å¦‚ä½•é‡ç½®æ¸¸æˆæ•°æ®ï¼Ÿ
**A**: 
```sql
-- è¿æ¥æ•°æ®åº“
heroku pg:psql -a foodtracking-t1

-- æ¸…ç©ºæ‰€æœ‰è¡¨
TRUNCATE TABLE "Clues", "MealRecords", "Players" RESTART IDENTITY CASCADE;
```

---

## ğŸ”§ å¿«æ·å‘½ä»¤ï¼ˆå¯é€‰ï¼‰

åœ¨ `~/.zshrc` æ·»åŠ ï¼š

```bash
# å¿«é€Ÿè¿›å…¥é¡¹ç›®ç›®å½•
alias rpg='cd /Users/carol/Documents/2025summer/rpg_new/Food-Tracking'

# å¿«é€Ÿå¯åŠ¨åç«¯
alias rpgserver='cd /Users/carol/Documents/2025summer/rpg_new/Food-Tracking/server && npm start'

# å¿«é€Ÿå¯åŠ¨å‰ç«¯
alias rpgfront='cd /Users/carol/Documents/2025summer/rpg_new/Food-Tracking && npm start'
```

ä½¿ç”¨ï¼š
```bash
source ~/.zshrc
rpg          # è¿›å…¥é¡¹ç›®
rpgserver    # å¯åŠ¨åç«¯
rpgfront     # å¯åŠ¨å‰ç«¯
```

---

## ğŸ“ å¼€å‘ç¬”è®°

### æœ€è¿‘æ›´æ–° (2025-12-24)
- âœ… å¢å¤§å¯¹è¯å­—ä½“ï¼ˆæ‰‹æœº24-28pxï¼ŒPC 26-32pxï¼‰
- âœ… ä¸ºæ¯ä¸ªé—®é¢˜æ·»åŠ "å…¶ä»–"é€‰é¡¹ + è‡ªç”±è¾“å…¥æ¡†
- âœ… ä¿®å¤çº¿ç´¢ä¿å­˜é€»è¾‘ï¼ˆåªæœ‰æ™šé¤ç»™çº¿ç´¢ï¼‰
- âœ… ä¿®å¤vagueå›å¤é€»è¾‘ï¼ˆéæ™šé¤ç»™vagueï¼‰
- âœ… ç§»é™¤æ—§çš„`DialogScene.js`ï¼Œä½¿ç”¨é‡æ„ç‰ˆæœ¬

è¯¦è§ `RECENT_FIXES.md`

### å·²çŸ¥é™åˆ¶
- ä¸€å¤©å†…åŒä¸€é¤åªèƒ½è®°å½•ä¸€æ¬¡
- æœ€å¤š7å¤©ï¼ˆ7ä¸ªNPCï¼‰
- éœ€è¦ç¨³å®šçš„ç½‘ç»œè¿æ¥ï¼ˆAPIè°ƒç”¨ï¼‰

---

## ğŸ‘¥ å›¢é˜Ÿ

- **å¼€å‘è€…**: Carol
- **é¡¹ç›®è·¯å¾„**: `/Users/carol/Documents/2025summer/rpg_new/Food-Tracking`
- **æ•°æ®åº“**: Heroku PostgreSQL (`foodtracking-t1`)

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚

---

## ğŸ†˜ è·å–å¸®åŠ©

1. **æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—**: `F12` â†’ Console
2. **æŸ¥çœ‹åç«¯æ—¥å¿—**: `heroku logs --tail -a foodtracking-t1`
3. **æ£€æŸ¥æ–‡æ¡£**: `RECENT_FIXES.md`, `REFACTORING_SUMMARY.md`
4. **æ•°æ®åº“è°ƒè¯•**: `heroku pg:psql -a foodtracking-t1`

---

**ğŸ® Happy Gaming! ç¥æ¸¸æˆæ„‰å¿«ï¼**

